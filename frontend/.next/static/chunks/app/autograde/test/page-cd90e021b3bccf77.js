(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{4997:function(e,t,n){Promise.resolve().then(n.bind(n,5657))},5657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return TestPage}});var s=n(7437),r=n(2265),o=n(4501);function TestPage(){let[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{testAPI()},[]);let testAPI=async()=>{try{let e=await o.Z.get("/health");t(e.data)}catch(e){t({error:"Failed to connect to API"})}i(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"API Connection Test"}),n?(0,s.jsx)("p",{children:"Testing API connection..."}):(0,s.jsx)("div",{className:"bg-white p-4 rounded shadow",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2)})})]})}},4501:function(e,t,n){"use strict";var s=n(4829),r=n(2749);let o=s.Z.create({baseURL:"https://api.growwithpraxis.com",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(async e=>{try{let n=await (0,r.getSession)();if(n){var t;e.headers.Authorization="Bearer ".concat((null===(t=n.user)||void 0===t?void 0:t.email)||"test-token")}}catch(e){console.error("Error getting session:",e)}return e}),o.interceptors.response.use(e=>e,e=>{var t,n;return console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),(null===(n=e.response)||void 0===n?void 0:n.status)===401&&(window.location.href="/login"),Promise.reject(e)}),t.Z=o}},function(e){e.O(0,[749,829,971,472,744],function(){return e(e.s=4997)}),_N_E=e.O()}]);